#include "pwn.h"
#include <stdio.h>
#include <unistd.h>

int main() {
    char buf[255];
    int bytes_read = 0;
    char* args[] = {"vuln", NULL};
    char* env[] = { NULL };
    process* proc = new_process("./vuln", args, env);
    printf("pid: %d\n", proc->pid);
    
    proc_write(proc, "Gionne\n");
    proc_read(proc, buf, 15);
    printf("%s\n", buf);
    proc_read(proc, buf, 23);
    printf("%s\n", buf);
}
